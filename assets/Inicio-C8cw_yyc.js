const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CartaoProduto-CwjWRJpQ.js","assets/index-DXcAHsKy.js","assets/react-9XyJl28y.js","assets/vendor-B8aPdzC6.js","assets/index-T7F-AO0g.css","assets/cartao-ui-BNbhN7-8.js","assets/index-CTPPCl2h.js","assets/index-nJiQroON.js","assets/index-C-b82g1w.js","assets/floating-ui.react-dom-BnLVU3YS.js","assets/index-BgJwNbyC.js","assets/notificacao-B8-hpVlu.js"])))=>i.map(i=>d[i]);
import{f as e,e as a,j as s,B as o,_ as r}from"./index-DXcAHsKy.js";import{r as l}from"./react-9XyJl28y.js";import{L as t}from"./rotulo-DUn8da0G.js";import"./grupo-radio-BVTEp6I9.js";import{D as i,a as n,b as d,e as c,d as m,C as u}from"./menu-suspenso-Cnk_xF2I.js";import{n as x,o as p,R as h,p as g,q as b,r as j,s as f,k as v,m as N}from"./vendor-B8aPdzC6.js";import"./index-C-b82g1w.js";import"./index-CTPPCl2h.js";import"./index-BgJwNbyC.js";import"./floating-ui.react-dom-BnLVU3YS.js";import"./index-nJiQroON.js";import"./Combination-HHGtYj3d.js";const y=l.lazy((()=>r((()=>import("./CartaoProduto-CwjWRJpQ.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])))),w=({product:e})=>s.jsx(l.Suspense,{fallback:s.jsx("div",{className:"h-96 bg-muted rounded-lg animate-pulse"}),children:s.jsx(y,{product:e})}),A=()=>{const r=[{id:1,titulo:"OFERTA IMPERDÍVEL!",descricao:"50% OFF EM TUDO*",imagem:"https://via.placeholder.com/1200x400?text=PROMOÇÃO+1",corFundo:"bg-red-500"},{id:2,titulo:"FRETE GRÁTIS!",descricao:"EM COMPRAS ACIMA DE R$ 199,99",imagem:"https://via.placeholder.com/1200x400?text=PROMOÇÃO+2",corFundo:"bg-blue-500"},{id:3,titulo:"LANÇAMENTO!",descricao:"CONFIRA NOSSAS NOVIDADES",imagem:"https://via.placeholder.com/1200x400?text=PROMOÇÃO+3",corFundo:"bg-green-500"}],[y,A]=l.useState(0),k=r.length,E=()=>{A((e=>e===k-1?0:e+1))};l.useEffect((()=>{const e=setInterval(E,5e3);return()=>clearInterval(e)}),[]);const[O,S]=l.useState([]),[C,M]=l.useState("4"),[R,P]=l.useState("grid-cols-2 sm:grid-cols-2 lg:grid-cols-4"),[F,D]=l.useState("none"),[I,L]=l.useState([]),[T,z]=l.useState([]),{produtos:$,isLoading:q}=e(),{notificar:V}=a();console.log("=== INÍCIO DA RENDERIZAÇÃO ==="),console.log("isLoadingProdutos:",q),console.log("Tipo de produtosFromContext:",typeof $),console.log("É array?",Array.isArray($)),console.log("Quantidade de produtos:",Array.isArray($)?$.length:"não é array"),console.log("Primeiros 2 produtos:",Array.isArray($)?$.slice(0,2):"não é array"),l.useEffect((()=>{console.log("=== MUDANÇA NOS PRODUTOS ==="),console.log("isLoadingProdutos:",q),console.log("Total de produtos:",Array.isArray($)?$.length:0)}),[$,q]),l.useEffect((()=>{switch(C){case"1":P("grid-cols-1");break;case"2":P("grid-cols-1 sm:grid-cols-2");break;case"3":P("grid-cols-1 sm:grid-cols-2 lg:grid-cols-3");break;default:P("grid-cols-2 sm:grid-cols-2 lg:grid-cols-4")}}),[C]);const[_,U]=l.useMemo((()=>{const e=new Set,a=new Set;return $.forEach((s=>{s.sizes&&s.sizes.forEach((a=>e.add(a))),s.colors&&s.colors.forEach((e=>a.add(e)))})),[Array.from(e).sort(),Array.from(a).sort()]}),[$]);l.useEffect((()=>{if(console.log("=== TENTANDO FILTRAR ESSA BAGUNÇA ==="),console.log("ta carregando? claro que ta:",q),console.log("produtos do contexto (ou nao):",$),console.log("tamanhos selecionados (se tiver):",I),console.log("cores selecionadas (se der sorte):",T),q)return void console.log("ta carregando ainda, volta depois");if(!Array.isArray($))return console.error("nao é array nao, o que vc fez?",$),void S([]);console.log("tentando filtrar essa bagunça...");const e=$.filter((e=>{if(!e||"object"!=typeof e)return console.warn("tem um lixo aqui ó:",e),!1;const a=0===I.length||e.sizes&&I.some((a=>e.sizes.includes(a))),s=0===T.length||e.colors&&T.some((a=>e.colors.includes(a))),o=a&&s;return console.log(`produto ${e.id} - ${e.name||"sem nome"}:`,{sizeMatch:a,colorMatch:s,matches:o,hora:(new Date).toISOString(),sorte:Math.random()>.5?"deu bom":"vai dar ruim"}),o}));console.log("filtrei e so sobrou isso:",e),S(e),console.log("atualizei a lista com",e.length,"coisas"),console.log("agora vai... ou não")}),[$,I,T,q]),l.useMemo((()=>[{value:"1",label:"1 Coluna (tela de celular quebrado)",icon:s.jsx(x,{className:"h-4 w-4"}),mobileLabel:"1"},{value:"2",label:"2 Colunas (padrao do pobre)",icon:s.jsx(p,{className:"h-4 w-4"}),mobileLabel:"2"},{value:"3",label:"3 Colunas (ta se achando)",icon:s.jsx(h,{className:"h-4 w-4"}),mobileLabel:"3"},{value:"4",label:"4 Colunas (tela grande é? mostre pra todo mundo)",icon:s.jsx(g,{className:"h-4 w-4"}),mobileLabel:"4"}]),[]),l.useMemo((()=>[{value:"none",label:"Nenhum (modo padrão)"},{value:"protanopia",label:"Protanopia (vermelho é verde?)"},{value:"deuteranopia",label:"Deuteranopia (verde é vermelho?)"},{value:"tritanopia",label:"Tritanopia (azul é rosa?)"},{value:"achromatopsia",label:"Acromatopia (tudo preto e branco)"}]),[]),l.useEffect((()=>{document.documentElement.classList.remove("protanopia-filter","deuteranopia-filter","tritanopia-filter","achromatopsia-filter"),"none"!==F&&document.documentElement.classList.add(`${F}-filter`)}),[F]);return q?s.jsx("div",{className:"div-espacada",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map(((e,a)=>s.jsx("div",{className:"div-espacada",children:s.jsxs("div",{className:"div-espacada",children:[s.jsx("div",{className:"div-arredondada div-espacada"}),s.jsx("div",{className:"div-arredondada div-espacada"}),s.jsx("div",{className:"div-arredondada div-espacada"}),s.jsx("div",{className:"div-espacada",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"div-arredondada div-espacada"}),s.jsx("div",{className:"div-arredondada div-espacada"})]})})]})},a)))})}):s.jsxs("div",{className:"div-espacada "+("none"!==F?`${F}-filter`:""),children:[s.jsxs("div",{className:"relative mb-12 overflow-hidden rounded-xl shadow-2xl",children:[s.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${100*y}%)`},children:r.map((e=>s.jsx("div",{className:`w-full flex-shrink-0 h-64 md:h-96 ${e.corFundo} flex items-center justify-center text-white p-8`,style:{backgroundImage:`url(${e.imagem})`,backgroundSize:"cover",backgroundPosition:"center"},children:s.jsxs("div",{className:"text-center bg-black bg-opacity-50 p-6 rounded-lg",children:[s.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-2",children:e.titulo}),s.jsx("p",{className:"text-xl md:text-2xl",children:e.descricao}),s.jsx("button",{className:"mt-4 bg-white text-black hover:bg-gray-200 px-6 py-2 rounded-md font-medium",children:"APROVEITAR OFERTA"})]})},e.id)))}),s.jsx("button",{onClick:()=>{A((e=>0===e?k-1:e-1))},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 shadow-lg","aria-label":"Slide anterior",children:s.jsx(b,{className:"w-6 h-6"})}),s.jsx("button",{onClick:E,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-50 hover:bg-opacity-75 rounded-full p-2 shadow-lg","aria-label":"Próximo slide",children:s.jsx(j,{className:"w-6 h-6"})}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:r.map(((e,a)=>s.jsx("button",{onClick:()=>A(a),className:"w-3 h-3 rounded-full "+(a===y?"bg-white":"bg-white bg-opacity-50"),"aria-label":`Ir para o slide ${a+1}`},a)))})]}),s.jsxs("section",{"aria-labelledby":"produtos-heading",className:"mb-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 sm:mb-6 gap-3 sm:gap-4",children:[s.jsxs("h2",{id:"produtos-heading",className:"text-2xl sm:text-3xl font-heading font-semibold text-brand-text-kaline dark:text-brand-text-kaline",children:["Nossos Produtos",s.jsx("span",{className:"ml-2 text-sm bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full align-middle"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(i,{children:[s.jsx(n,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-white border rounded-md hover:bg-gray-50 transition-colors","aria-label":"Filtrar produtos",children:[s.jsx(f,{className:"w-4 h-4"}),"Filtrar",s.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 rounded-full px-2 py-0.5",children:"5+"})]})}),s.jsx(d,{className:"w-64 p-3",align:"end",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(t,{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Ordenar por"}),s.jsxs("select",{className:"w-full text-sm border rounded p-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[s.jsx("option",{children:"Mais relevantes"}),s.jsx("option",{children:"Menor preço"}),s.jsx("option",{children:"Maior preço"}),s.jsx("option",{children:"Mais vendidos"}),s.jsx("option",{children:"Lançamentos"}),s.jsx("option",{children:"Maior desconto"}),s.jsx("option",{children:"Melhor avaliados"})]})]}),s.jsx(c,{className:"my-2"}),s.jsxs("div",{children:[s.jsx(t,{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cores"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[{nome:"Vermelho",cor:"#ef4444"},{nome:"Azul",cor:"#3b82f6"},{nome:"Verde",cor:"#10b981"},{nome:"Preto",cor:"#000000"},{nome:"Branco",cor:"#ffffff",border:!0},{nome:"Amarelo",cor:"#f59e0b"},{nome:"Roxo",cor:"#8b5cf6"},{nome:"Rosa",cor:"#ec4899"}].map((({nome:e,cor:a,border:o})=>s.jsx("button",{className:"w-7 h-7 rounded-full "+(o?"border-2 border-gray-300":""),style:{backgroundColor:a},title:e,"aria-label":`Filtrar por cor ${e}`},e)))})]}),s.jsx("div",{className:"pt-2 border-t",children:s.jsx("button",{className:"w-full text-sm text-blue-600 hover:text-blue-800 font-medium text-center",children:"Limpar filtros"})})]})})]}),s.jsxs(i,{children:[s.jsx(n,{asChild:!0,children:s.jsxs(o,{variant:"outline",size:"sm",className:"text-xs sm:text-sm","aria-haspopup":"true","aria-expanded":"false",children:[s.jsx(f,{className:"h-3.5 w-3.5 mr-1.5","aria-hidden":"true"})," Filtros"]})}),s.jsxs(d,{className:"w-56 bg-brand-card-kaline dark:bg-card",children:[_.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(m,{children:"Tamanhos"}),s.jsx(c,{}),_.map((e=>s.jsx(u,{checked:I.includes(e),onCheckedChange:()=>(e=>{L((a=>a.includes(e)?a.filter((a=>a!==e)):[...a,e]))})(e),onSelect:e=>e.preventDefault(),children:e},e)))]}),U.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(m,{className:"mt-2",children:"Cores"}),s.jsx(c,{}),U.map((e=>s.jsx(u,{checked:T.includes(e),onCheckedChange:()=>(e=>{z((a=>a.includes(e)?a.filter((a=>a!==e)):[...a,e]))})(e),onSelect:e=>e.preventDefault(),children:e},e)))]}),0===_.length&&0===U.length&&s.jsx(m,{className:"text-muted-foreground text-sm p-2",children:"Nenhum filtro disponível."})]})]})]})]}),s.jsx(v,{children:q?s.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full py-20 flex justify-center items-center",children:s.jsx("div",{className:"h-16 w-16 rounded-full border-4 border-brand-primary-kaline border-t-transparent animate-spin",children:s.jsx("span",{className:"sr-only",children:"Carregando produtos..."})})}):O&&O.length>0?s.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:`grid ${R} gap-4 sm:gap-6`,children:O.map(((e,a)=>e&&e.id?s.jsx(N.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.3,delay:.04*a},className:"w-full",children:s.jsx(l.Suspense,{fallback:s.jsx("div",{className:"h-96 bg-muted rounded-lg animate-pulse"}),children:s.jsx(w,{product:e})})},e.id):(console.warn("Produto inválido no displayedProdutos:",e),null)))},R+I.join(",")+T.join(",")):s.jsx(N.p,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-10 text-brand-text-muted-kaline dark:text-muted-foreground",children:"Nenhum produto encontrado com os filtros selecionados."})})]})]})};export{A as default};
//# sourceMappingURL=Inicio-C8cw_yyc.js.map
