import{r as e,j as n}from"./react-9XyJl28y.js";import{j as t,u as r}from"./index-DIazkKjz.js";function o(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(null==e||e(r),!1===t||!r.defaultPrevented)return null==n?void 0:n(r)}}function u(n,r){const o=e.createContext(r),u=n=>{const{children:r,...u}=n,s=e.useMemo((()=>u),Object.values(u));return t.jsx(o.Provider,{value:s,children:r})};return u.displayName=n+"Provider",[u,function(t){const u=e.useContext(o);if(u)return u;if(void 0!==r)return r;throw new Error(`\`${t}\` must be used within \`${n}\``)}]}function s(n,r=[]){let o=[];const u=()=>{const t=o.map((n=>e.createContext(n)));return function(r){const o=(null==r?void 0:r[n])||t;return e.useMemo((()=>({[`__scope${n}`]:{...r,[n]:o}})),[r,o])}};return u.scopeName=n,[function(r,u){const s=e.createContext(u),c=o.length;o=[...o,u];const i=r=>{var o;const{scope:u,children:i,...a}=r,l=(null==(o=null==u?void 0:u[n])?void 0:o[c])||s,d=e.useMemo((()=>a),Object.values(a));return t.jsx(l.Provider,{value:d,children:i})};return i.displayName=r+"Provider",[i,function(t,o){var i;const a=(null==(i=null==o?void 0:o[n])?void 0:i[c])||s,l=e.useContext(a);if(l)return l;if(void 0!==u)return u;throw new Error(`\`${t}\` must be used within \`${r}\``)}]},c(u,...r)]}function c(...n){const t=n[0];if(1===n.length)return t;const r=()=>{const r=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const o=r.reduce(((e,{useScope:t,scopeName:r})=>({...e,...t(n)[`__scope${r}`]})),{});return e.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}var i=(null==globalThis?void 0:globalThis.document)?e.useLayoutEffect:()=>{},a=n[" useId ".trim().toString()]||(()=>{}),l=0;function d(n){const[t,r]=e.useState(a());return i((()=>{r((e=>e??String(l++)))}),[n]),n||(t?`radix-${t}`:"")}function f(n){const t=e.useRef(n);return e.useEffect((()=>{t.current=n})),e.useMemo((()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}var m=n[" useInsertionEffect ".trim().toString()]||i;function p({prop:n,defaultProp:t,onChange:r=()=>{},caller:o}){const[u,s,c]=function({defaultProp:n,onChange:t}){const[r,o]=e.useState(n),u=e.useRef(r),s=e.useRef(t);return m((()=>{s.current=t}),[t]),e.useEffect((()=>{var e;u.current!==r&&(null==(e=s.current)||e.call(s,r),u.current=r)}),[r,u]),[r,o,s]}({defaultProp:t,onChange:r}),i=void 0!==n,a=i?n:u;{const t=e.useRef(void 0!==n);e.useEffect((()=>{const e=t.current;if(e!==i){const n=e?"controlled":"uncontrolled",t=i?"controlled":"uncontrolled";console.warn(`${o} is changing from ${n} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=i}),[i,o])}const l=e.useCallback((e=>{var t;if(i){const r=function(e){return"function"==typeof e}(e)?e(n):e;r!==n&&(null==(t=c.current)||t.call(c,r))}else s(e)}),[i,n,s,c]);return[a,l]}var v=n=>{const{present:t,children:o}=n,u=function(n){const[t,r]=e.useState(),o=e.useRef(null),u=e.useRef(n),s=e.useRef("none"),c=n?"mounted":"unmounted",[a,l]=function(n,t){return e.useReducer(((e,n)=>t[e][n]??e),n)}(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return e.useEffect((()=>{const e=N(o.current);s.current="mounted"===a?e:"none"}),[a]),i((()=>{const e=o.current,t=u.current;if(t!==n){const r=s.current,o=N(e);if(n)l("MOUNT");else if("none"===o||"none"===(null==e?void 0:e.display))l("UNMOUNT");else{l(t&&r!==o?"ANIMATION_OUT":"UNMOUNT")}u.current=n}}),[n,l]),i((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,r=r=>{const s=N(o.current).includes(r.animationName);if(r.target===t&&s&&(l("ANIMATION_END"),!u.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},c=e=>{e.target===t&&(s.current=N(o.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",r),t.addEventListener("animationend",r),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",r),t.removeEventListener("animationend",r)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:e.useCallback((e=>{o.current=e?getComputedStyle(e):null,r(e)}),[])}}(t),s="function"==typeof o?o({present:u.isPresent}):e.Children.only(o),c=r(u.ref,function(e){var n,t;let r=null==(n=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning;if(o)return e.ref;if(r=null==(t=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o)return e.props.ref;return e.props.ref||e.ref}(s));return"function"==typeof o||u.isPresent?e.cloneElement(s,{ref:c}):null};function N(e){return(null==e?void 0:e.animationName)||"none"}v.displayName="Presence";export{v as P,o as a,f as b,s as c,i as d,d as e,u as f,p as u};
//# sourceMappingURL=index-ChjETHs9.js.map
