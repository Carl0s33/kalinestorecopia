import{f as s,e as a,j as e,L as i,B as t}from"./index-DXcAHsKy.js";import{g as r,r as l}from"./react-9XyJl28y.js";import{G as o,I as d}from"./grupo-radio-BVTEp6I9.js";import{L as n}from"./rotulo-DUn8da0G.js";import c from"./CartaoProduto-CwjWRJpQ.js";import{k as m,m as x,w as u,u as h,x as j,g as p,f as g}from"./vendor-B8aPdzC6.js";import"./index-CTPPCl2h.js";import"./index-BgJwNbyC.js";import"./index-C-b82g1w.js";import"./cartao-ui-BNbhN7-8.js";import"./index-nJiQroON.js";import"./floating-ui.react-dom-BnLVU3YS.js";import"./notificacao-B8-hpVlu.js";const v=()=>{var v;const{productId:f}=r(),{getProductById:N,produtos:y}=s(),{notificar:b}=a(),[S,w]=l.useState(null),[C,P]=l.useState(""),[k,z]=l.useState(""),[A,I]=l.useState(1),[B,L]=l.useState(0),[F,R]=l.useState(!1),[V,$]=l.useState(!0),[q,E]=l.useState(!1),[G,T]=l.useState([]);l.useEffect((()=>{(async()=>{$(!0);const s=await N(f);s&&(w(s),T(D(s))),$(!1)})()}),[f,N]);const D=s=>{const a=[];return(null==s?void 0:s.image)&&a.push(s.image),(null==s?void 0:s.image2)&&a.push(s.image2),(null==s?void 0:s.image3)&&a.push(s.image3),(null==s?void 0:s.image4)&&a.push(s.image4),a};return V?e.jsx(i,{}):S?e.jsx("div",{className:"div-container div-espacada",children:e.jsxs("div",{className:"div-espacada",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx(m,{initial:!1,children:e.jsx(x.img,{src:G[B],alt:`Imagem ${B+1}`,className:"w-full h-auto rounded-2xl object-cover shadow",initial:{opacity:.3},animate:{opacity:q?1:.3},exit:{opacity:0},transition:{duration:.5},onLoad:()=>{E(!0)}},B)}),G.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{L((s=>0===s?G.length-1:s-1)),E(!1)},className:"absolute top-1/2 left-0 p-2 bg-white rounded-full shadow -translate-y-1/2",children:e.jsx(u,{})}),e.jsx("button",{onClick:()=>{L((s=>(s+1)%G.length)),E(!1)},className:"absolute top-1/2 right-0 p-2 bg-white rounded-full shadow -translate-y-1/2",children:e.jsx(h,{})})]})]}),e.jsxs("div",{className:"div-espacada",children:[e.jsx("h1",{className:"text-3xl font-bold",children:S.name}),e.jsxs("p",{className:"text-xl text-green-600 font-semibold",children:["R$ ",null==(v=Number(S.price))?void 0:v.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"text-yellow-500"}),e.jsx("span",{children:S.rating??"4.5"}),e.jsx("span",{className:"text-sm text-gray-500",children:"(200 avaliações)"})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Tamanho"}),e.jsx(o,{value:C,onValueChange:P,className:"flex gap-2 mt-1",children:Array.isArray(S.sizes)&&S.sizes.length>0?S.sizes.map((s=>e.jsx(d,{value:s,children:s},s))):e.jsx("span",{className:"text-gray-400 text-sm",children:"Sem tamanhos disponíveis"})})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Cor"}),e.jsx(o,{value:k,onValueChange:z,className:"flex gap-2 mt-1",children:["Preto","Branco","Azul"].map((s=>e.jsx(d,{value:s,children:s},s)))})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(t,{onClick:()=>{C&&k?b("Produto adicionado ao carrinho!","sucesso"):b("Por favor, selecione tamanho e cor.","erro")},children:[e.jsx(p,{className:"mr-2",size:18}),"Adicionar ao carrinho"]}),e.jsx("button",{onClick:()=>R(!F),children:e.jsx(g,{className:F?"text-red-500":"text-gray-400"})})]}),e.jsx("p",{className:"text-gray-600",children:S.description})]})]}),e.jsxs("div",{className:"div-espacada",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Produtos Relacionados"}),e.jsx("div",{className:"div-espacada",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:y.slice(0,4).map((s=>e.jsx(c,{product:s},s.id)))})})]})]})}):e.jsx("div",{className:"text-center text-red-500",children:"Produto não encontrado."})};export{v as default};
//# sourceMappingURL=DetalhesProduto-PMXGLn0C.js.map
